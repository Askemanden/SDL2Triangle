# SDL2Triangle Graphics Library

## Code architecture

Every .c file must be included in main.c. Every .c file must include renderer.h and only renderer.h. renderer.h must include every other .h file and every other include that any .c file uses not already include from a .h file. Use .h files corresponding to different .c files as one would normally, but do not include them directly in .c files as they will be included through renderer.h.

## Including

Using the Renderer Library in Your Project
After cloning this repository and building the library using the makefile, you will have these two files:

`include/renderer.h` — the public header

`build/librenderer.a` — the static library

To use the renderer, place these files in the following structure:

```
your-project/
│
├── include/
│   └── renderer.h
│
├── lib/
│   └── librenderer.a
│
└── src/
    └── your_code.c
```

### Compiler and Linker Setup

Add the include directory:

`-Iinclude`

### Link against the library:

`-Llib -lrenderer`

### SDL2 and OpenMP are required:

`sdl2-config --cflags --libs` -fopenmp

### Example (GCC)

```
gcc -Iinclude src/your_code.c \
    -Llib -lrenderer \
    `sdl2-config --cflags --libs` -fopenmp \
    -o your_program
```

## Quick Start Example

Below is a minimal example showing how to use the renderer library in your own project.

### File: `src/main.c`

```c
#include "renderer.h"
#include <stdint.h>

// Simple callback: returns a color based on pixel position
static uint32_t gradient(int x, int y)
{
    uint8_t r = (x * 255) / WIDTH;
    uint8_t g = (y * 255) / HEIGHT;
    uint8_t b = ((x + y) * 255) / (WIDTH + HEIGHT);
    return (0xFF << 24) | (r << 16) | (g << 8) | b;
}

int main(int argc, char *argv[])
{
    SDLContext ctx;

    if (!init_sdl(&ctx))
        return 1;

    // Fill the entire framebuffer using the callback
    draw(gradient);

    // Push the buffer to the window
    update(&ctx);

    // Basic event loop
    SDL_Event e;
    int running = 1;

    while (running)
    {
        while (SDL_PollEvent(&e))
        {
            if (e.type == SDL_QUIT)
                running = 0;
        }
        SDL_Delay(10);
    }

    shutdown_sdl(&ctx);
    return 0;
}
```

### Build Command (GCC)

```
gcc -Iinclude src/main.c \
    -Llib -lrenderer \
    `sdl2-config --cflags --libs` -fopenmp \
    -o demo
```

This will open a window displaying a smooth color gradient generated by the renderer.
